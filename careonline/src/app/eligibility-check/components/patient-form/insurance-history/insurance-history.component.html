<mat-accordion>
  <mat-expansion-panel expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Member Insurance History
      </mat-panel-title>
      <mat-panel-description>
        <!-- Member Insurance History -->
      </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="example-container mat-elevation-z8">
      <div class="example-table-container">
        <table mat-table [dataSource]="insuranceListForMatTable" matSort matSortActive="statusVerifiedDate"
          matSortDisableClear matSortDirection="desc">

          <!-- <ng-container matColumnDef="{{column}}" *ngFor="let column of displayedColumns">
      <th mat-header-cell *matHeaderCellDef> {{column}} | titlecase </th>
      <td mat-cell *matCellDef="let row"> {{row[column]}} </td>
    </ng-container> -->

          <!-- Status Verified Date Column -->
          <ng-container matColumnDef="statusVerifiedDate">
            <th mat-header-cell *matHeaderCellDef rowspan="3"> Status Verified Date </th>
            <td mat-cell *matCellDef="let element"> {{element?.statusVerifiedDate | date:'M/d/yyyy'}} </td>
          </ng-container>

          <!-- Last Name Column -->
          <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef> Last Name </th>
            <!-- <td mat-cell *matCellDef="let element"> {{[element[element.length-1]][0]}} </td> -->
            <td mat-cell *matCellDef="let element"> {{element?.insuredlastName}} </td>
          </ng-container>

          <!-- First Name Column -->
          <ng-container matColumnDef="firstName">
            <th mat-header-cell *matHeaderCellDef> First Name </th>
            <!-- <td mat-cell *matCellDef="let element"> {{[element[element.length-1]][0]}} </td> -->
            <td mat-cell *matCellDef="let element"> {{element?.insuredfirstName}} </td>
          </ng-container>

          <!-- Insurance Plan Type Column -->
          <ng-container matColumnDef="insurancePlanType">
            <th mat-header-cell *matHeaderCellDef> Insurance Type </th>
            <!-- <td mat-cell *matCellDef="let element"> {{element?.primaryInsuranceDetail?.insurancePlanType}} </td> -->
            <td mat-cell *matCellDef="let element"> {{element?.insurancePlanType}} </td>
          </ng-container>

          <!-- Insurance Plan Name Column -->
          <ng-container matColumnDef="insurancePlanName">
            <th mat-header-cell *matHeaderCellDef> Insurance Name </th>
            <!-- <td mat-cell *matCellDef="let element"> {{element?.primaryInsuranceDetail?.insurancePlanName}} </td> -->
            <td mat-cell *matCellDef="let element"> {{element?.insurancePlanName}} </td>
          </ng-container>

          <!-- Eligibility Start Date Column -->
          <ng-container matColumnDef="eligibilityStartDate">
            <th mat-header-cell *matHeaderCellDef> Start Date </th>
            <td mat-cell *matCellDef="let element"> {{element?.startDate | date:'M/d/yyyy'}} </td>
          </ng-container>

          <!-- Eligibility End Date Column -->
          <ng-container matColumnDef="eligibilityEndDate">
            <th mat-header-cell *matHeaderCellDef> End Date </th>
            <!-- <td mat-cell *matCellDef="let element"> {{element?.endDate | date:'yyyy-MM-dd'}} </td> -->
            <td mat-cell *matCellDef="let element"> {{element?.endDate | date:'M/d/yyyy'}} </td>
          </ng-container>

          <!-- Eligibility Column -->
          <ng-container matColumnDef="eligibility">
            <th mat-header-cell *matHeaderCellDef> Status</th>
            <td mat-cell *matCellDef="let element"> {{element?.eligibility | titlecase}} </td>
          </ng-container>

          <!-- View Eligibility Details Column -->
          <!-- <ng-container matColumnDef="viewDetails">
      <th mat-header-cell *matHeaderCellDef> View Details </th>
      <td mat-cell *matCellDef="let element">
        <mat-radio-button (click)="$event.stopPropagation()" [aria-label]="checkboxLabel(element)">
          View Details
        </mat-radio-button>
      </td>

    </ng-container> -->

          <!-- Actions Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td mat-cell *matCellDef="let row">
              <button mat-icon-button color="primary" (click)="onViewDetails(row)">
                <mat-icon matTooltip="View Details">open_with</mat-icon>
                <!-- <mat-icon>open_with</mat-icon> -->
                <!-- <mat-icon>visibility</mat-icon> -->
              </button>
            </td>
          </ng-container>

          <!-- Footer Column -->
          <ng-container matColumnDef="loading">
            <th mat-footer-cell *matFooterCellDef colspan="8">
              Loading Data ...
            </th>
          </ng-container>

          <!-- No Data Found Column -->
          <ng-container matColumnDef="nodatafound">
            <th mat-footer-cell *matFooterCellDef colspan="8">
              No Data Found ...
            </th>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let element; columns: displayedColumns;"></tr>
          <tr mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide': insuranceListForMatTable != null}">
          </tr>
          <tr mat-footer-row *matFooterRowDef="['nodatafound']"
            [ngClass]="{'hide': !(insuranceListForMatTable != null && insuranceListForMatTable.data.length == 0)}">
          </tr>

        </table>
      </div>
      <mat-paginator [length]="resultsLength" [pageSize]="5" [pageSizeOptions]="[5, 10, 15, 20]" showFirstLastButtons>
      </mat-paginator>
    </div>
  </mat-expansion-panel>
</mat-accordion>